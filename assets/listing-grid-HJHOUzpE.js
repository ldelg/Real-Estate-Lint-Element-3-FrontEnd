import{f as yt,u as xt,a as kt,e as _t,i as jt,b as $t,x as W,s as Et,o as St,r as zt}from"./index-fVAjHoi0.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Tt={attribute:!0,type:String,converter:xt,reflect:!1,hasChanged:yt},It=(e=Tt,t,i)=>{const{kind:u,metadata:w}=i;let g=globalThis.litPropertyMetadata.get(w);if(g===void 0&&globalThis.litPropertyMetadata.set(w,g=new Map),u==="setter"&&((e=Object.create(e)).wrapped=!0),g.set(i.name,e),u==="accessor"){const{name:c}=i;return{set(r){const k=t.get.call(this);t.set.call(this,r),this.requestUpdate(c,k,e)},init(r){return r!==void 0&&this.C(c,void 0,e,r),r}}}if(u==="setter"){const{name:c}=i;return function(r){const k=this[c];t.call(this,r),this.requestUpdate(c,k,e)}}throw Error("Unsupported decorator location: "+u)};function ot(e){return(t,i)=>typeof i=="object"?It(e,t,i):((u,w,g)=>{const c=w.hasOwnProperty(g);return w.constructor.createProperty(g,u),c?Object.getOwnPropertyDescriptor(w,g):void 0})(e,t,i)}const Ot=kt`.listing-container{display:flex;flex-direction:column;flex-wrap:wrap;align-items:flex-end}.listing-container .listing{width:100%;display:flex;flex-direction:column}.listing-container .listing .card{display:flex;align-items:flex-start;border:1px solid #eee;border-radius:.75rem;padding:1rem;width:100%;margin:1rem 0;background-color:#fff}.listing-container .listing .card .clickable{display:flex;flex-grow:1;cursor:pointer}.listing-container .listing .card img{width:120px;height:150px;border-radius:.5rem;flex-shrink:0;object-fit:cover}.listing-container .listing .card .info{flex-grow:1;margin-left:1rem}.listing-container .listing .card .info h2{margin:0;color:#000}.listing-container .listing .card .info p{font-size:small;margin:.5rem 0;font-weight:500}.listing-container .listing .card .info small{color:#665;display:-webkit-box;line-clamp:2;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;white-space:normal;word-break:break-word}.listing-container .listing .card .info .small-details{color:#665;font-size:small;margin-top:10px}.listing-container .listing .card .info .small-details span{margin-right:10px}.listing-container .listing .card .favorite{background:none;border:none;font-size:1.5rem}.listing-container .listing .card .red-heart{color:red}.material-icon{font-family:Material Icons;font-size:24px;line-height:1;display:inline-block;-webkit-font-feature-settings:\"liga\";-webkit-font-smoothing:antialiased}.red-heart{color:red}@media(min-width:400px){p{font-size:medium!important}}@media(min-width:570px){img{height:120px!important}}@media(min-width:840px){.listing .card{max-width:640px}}`;var ut,ft;let pt,gt,ht,mt;function st(e,t,i){Ft(e,t),t.set(e,i)}function Ft(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vt(e,t,i){return(t=wt(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function lt(e,t,i){return e.set(bt(e,t),i),i}function ct(e,t){return e.get(bt(e,t))}function bt(e,t,i){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}function Dt(e,t,i,u,w,g){var c,r,k,L,z,M,$,J=Symbol.metadata||Symbol.for("Symbol.metadata"),Q=Object.defineProperty,C=Object.create,V=[C(null),C(null)],X=t.length;function T(n,h,f){return function(a,o){h&&(o=a,a=e);for(var m=0;m<n.length;m++)o=n[m].apply(a,f?[o]:[]);return f?o:a}}function y(n,h,f,a){if(typeof n!="function"&&(a||n!==void 0))throw new TypeError(h+" must "+(f||"be")+" a function"+(a?"":" or undefined"));return n}function Y(n,h,f,a,o,m,_,p,v,b,H){function P(l){if(!H(l))throw new TypeError("Attempted to access private element on non-instance")}var U=[].concat(h[0]),N=h[3],A=!_,E=o===1,tt=o===3,et=o===4,I=o===2;function O(l,j,rt){return function(D,at){return j&&(at=D,D=n),rt&&rt(D),s[l].call(D,at)}}if(!A){var s={},B=[],x=tt?"get":et||E?"set":"value";if(v?(b||E?s={get:dt(function(){return N(this)},a,"get"),set:function(l){h[4](this,l)}}:s[x]=N,b||dt(s[x],a,I?"":x)):b||(s=Object.getOwnPropertyDescriptor(n,a)),!b&&!v){if((r=V[+p][a])&&(r^o)!==7)throw Error("Decorating two elements with the same name ("+s[x].name+") is not supported yet");V[+p][a]=o<3?1:o}}for(var d=n,F=U.length-1;F>=0;F-=f?2:1){var it=y(U[F],"A decorator","be",!0),nt=f?U[F-1]:void 0,G={},S={kind:["field","accessor","method","getter","setter","class"][o],name:a,metadata:c,addInitializer:(function(l,j){if(l.v)throw new TypeError("attempted to call addInitializer after decoration was finished");y(j,"An initializer","be",!0),m.push(j)}).bind(null,G)};if(A)r=it.call(nt,d,S),G.v=1,y(r,"class decorators","return")&&(d=r);else if(S.static=p,S.private=v,r=S.access={has:v?H.bind():function(l){return a in l}},et||(r.get=v?I?function(l){return P(l),s.value}:O("get",0,P):function(l){return l[a]}),I||tt||(r.set=v?O("set",0,P):function(l,j){l[a]=j}),d=it.call(nt,E?{get:s.get,set:s.set}:s[x],S),G.v=1,E){if(typeof d=="object"&&d)(r=y(d.get,"accessor.get"))&&(s.get=r),(r=y(d.set,"accessor.set"))&&(s.set=r),(r=y(d.init,"accessor.init"))&&B.unshift(r);else if(d!==void 0)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else y(d,(b?"field":"method")+" decorators","return")&&(b?B.unshift(d):s[x]=d)}return o<2&&_.push(T(B,p,1),T(m,p,0)),b||A||(v?E?_.splice(-1,0,O("get",p),O("set",p)):_.push(I?s[x]:y.call.bind(s[x])):Q(n,a,s)),d}function Z(n){return Q(n,J,{configurable:!0,enumerable:!0,value:c})}return g!==void 0&&(c=g[J]),c=C(c??null),z=[],M=function(n){n&&z.push(T(n))},$=function(n,h){for(var f=0;f<i.length;f++){var a=i[f],o=a[1],m=7&o;if((8&o)==n&&!m==h){var _=a[2],p=!!a[3],v=16&o;Y(n?e:e.prototype,a,v,p?"#"+_:wt(_),m,m<2?[]:n?L=L||[]:k=k||[],z,!!n,p,h,n&&p?function(b){return Mt(b)===e}:w)}}},$(8,0),$(0,0),$(8,1),$(0,1),M(k),M(L),r=z,X||Z(e),{e:r,get c(){var n=[];return X&&[Z(e=Y(e,[t],u,e.name,5,n)),T(n,1)]}}}function wt(e){var t=Lt(e,"string");return typeof t=="symbol"?t:t+""}function Lt(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var u=i.call(e,t);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dt(e,t,i){typeof t=="symbol"&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:i?i+" "+t:t})}catch{}return e}function Mt(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(e!==null?typeof e:"null"));return e}var q=new WeakMap,R=new WeakMap;class K extends(ut=_t(jt)){get items(){return ct(q,this)}set items(t){lt(q,this,t)}get isFavourite(){return ct(R,this)}set isFavourite(t){lt(R,this,t)}constructor(){super(),st(this,q,pt(this,[])),st(this,R,(gt(this),ht(this,()=>!1))),vt(this,"favoriteIcon",(mt(this),t=>$t(()=>{const i=this.store.isFavorite(t);return W`<span class=${i?"red-heart material-icon":"material-icon"}>
      ${i?"favorite":"favorite_border"}
    </span>`}))),this.store=Et}render(){return W`
      <div class="listing-container">
        ${this.items.map(t=>W`
          <div class="listing">
            <div class="card">
              <div 
                class="clickable" 
                @click=${()=>this.openLink(t.link)}
                @keydown=${i=>i.key==="Enter"&&this.openLink(t.link)}
                tabindex="0"
                role="button"
              >
                  <img 
                    src=${t.imagenUrl} 
                    alt=${t.titulo||"Listing image"} 
                    loading="lazy" 
                  />
                <div class="info">
                  <h2>€${t.precio}</h2>
                  <p>${t.titulo}</p>
                  <small>${t.descripcion}</small>
                  <div class="small-details">
                    <span>${t.habitaciones} Beds</span>
                    <span>•</span>
                    <span>${t.size} m²</span>
                  </div>
                </div>
              </div>
              <button class="favorite" @click=${()=>this.onFavorite(t.link)}>
                <span>${St(this.favoriteIcon(t.link))}</span>   
              </button>
            </div>
          </div>
        `)}
      </div>
    `}openLink(t){window.open(t,"_blank","noopener,noreferrer")}onFavorite(t){this.dispatchEvent(new CustomEvent("on-favorite",{detail:t}))}}ft=K;[pt,gt,ht,mt]=Dt(ft,[],[[ot({type:Array}),1,"items"],[ot({type:Function}),1,"isFavourite"]],0,void 0,ut).e;vt(K,"styles",[zt(Ot)]);customElements.define("listing-grid",K);export{ot as n};
